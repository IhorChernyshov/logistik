# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é –Ω–∞ Cloudflare Pages + Railway/Render

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (Angular)** ‚Üí Cloudflare Pages
- **–ë—ç–∫–µ–Ω–¥ (Express + SMTP)** ‚Üí Railway –∏–ª–∏ Render (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

---

## üì¶ –ß–∞—Å—Ç—å 1: –î–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –Ω–∞ Cloudflare Pages

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

1. –ó–∞–∫–æ–º–º–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git:
```bash
git add .
git commit -m "Ready for deployment"
git push origin master
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Cloudflare

1. –ó–∞–π–¥–∏ –Ω–∞ [dash.cloudflare.com](https://dash.cloudflare.com)
2. –ü–µ—Ä–µ–π–¥–∏ –≤ **Pages** ‚Üí **Create a project**
3. –ü–æ–¥–∫–ª—é—á–∏ —Å–≤–æ–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏:
   - **Build command**: `npm run build`
   - **Build output directory**: `dist/logistik/browser`
   - **Root directory**: –æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º

### –®–∞–≥ 3: Environment Variables (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

–ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, –¥–æ–±–∞–≤—å –∏—Ö –≤ **Settings ‚Üí Environment variables**

---

## üîß –ß–∞—Å—Ç—å 2: –î–µ–ø–ª–æ–π –±—ç–∫–µ–Ω–¥–∞

### –í–∞—Ä–∏–∞–Ω—Ç A: Railway (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ó–∞–π–¥–∏ –Ω–∞ [railway.app](https://railway.app)
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç ‚Üí **Deploy from GitHub repo**
3. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Node.js –ø—Ä–æ–µ–∫—Ç

#### Environment Variables –≤ Railway:

–î–æ–±–∞–≤—å —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ **Variables**:

```
NODE_ENV=production
PORT=3000
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=—Ç–≤–æ–π-email@gmail.com
SMTP_PASS=—Ç–≤–æ–π-app-password
RECIPIENT_EMAIL=–∫—É–¥–∞-–æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å@example.com
```

5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç –∏ –¥–∞—Å—Ç —Ç–µ–±–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.up.railway.app`)

### –í–∞—Ä–∏–∞–Ω—Ç B: Render

1. –ó–∞–π–¥–∏ –Ω–∞ [render.com](https://render.com)
2. **New ‚Üí Web Service**
3. –ü–æ–¥–∫–ª—é—á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **Build Command**: `npm install`
   - **Start Command**: `node server/index.js`
   - **Instance Type**: Free

#### Environment Variables –≤ Render:

–ò—Å–ø–æ–ª—å–∑—É–π —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á—Ç–æ –∏ –¥–ª—è Railway (—Å–º. –≤—ã—à–µ)

---

## üîó –ß–∞—Å—Ç—å 3: –°–≤—è–∑–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –±—ç–∫–µ–Ω–¥–æ–º

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏ URL –±—ç–∫–µ–Ω–¥–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ Railway/Render, —Å–∫–æ–ø–∏—Ä—É–π –≤—ã–¥–∞–Ω–Ω—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.up.railway.app`)

### –®–∞–≥ 2: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–í–ê–ñ–ù–û!** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª `src/environments/environment.ts`:

```typescript
// src/environments/environment.ts
export const environment = {
  production: true,
  apiUrl: 'https://—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.up.railway.app' // –ó–∞–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–π URL –±—ç–∫–µ–Ω–¥–∞
};
```

**–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö URL:**
- Railway: `https://logistik-backend-production.up.railway.app`
- Render: `https://logistik-backend.onrender.com`

**–ù–ï –î–û–ë–ê–í–õ–Ø–ô** `/api/v1` –≤ –∫–æ–Ω–µ—Ü URL - –æ–Ω —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω –≤ –∫–æ–¥–µ!

### –®–∞–≥ 3: –†–µ–±–∏–ª–¥ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL:
1. –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. Push –≤ GitHub
3. Cloudflare Pages –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–±–∏–ª–¥–∏—Ç

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –¢–µ—Å—Ç –±—ç–∫–µ–Ω–¥–∞:
```bash
curl https://—Ç–≤–æ–π-–±—ç–∫–µ–Ω–¥.up.railway.app/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"OK","message":"Server is running"}`

### –¢–µ—Å—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
1. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç –Ω–∞ Cloudflare Pages URL
2. –ü–æ–ø—Ä–æ–±—É–π –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º—É –∫–æ–Ω—Ç–∞–∫—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–∏—Å—å–º–æ –ø—Ä–∏—à–ª–æ

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Gmail App Password (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Gmail)

1. –í–∫–ª—é—á–∏ **2-Step Verification** –≤ Google –∞–∫–∫–∞—É–Ω—Ç–µ
2. –°–æ–∑–¥–∞–π **App Password**: https://myaccount.google.com/apppasswords
3. –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å –≤ `SMTP_PASS`

---

## üêõ Troubleshooting

### –§–æ—Ä–º–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ CORS –æ—à–∏–±–∫–∏
- –£–±–µ–¥–∏—Å—å —á—Ç–æ –±—ç–∫–µ–Ω–¥ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ –∫–æ–¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –±—ç–∫–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç (–æ—Ç–∫—Ä–æ–π /health endpoint)

### SMTP –æ—à–∏–±–∫–∏:
- –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å SMTP credentials
- –î–ª—è Gmail –∏—Å–ø–æ–ª—å–∑—É–π App Password
- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ SMTP_PORT –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (587 –¥–ª—è TLS)

### CORS –æ—à–∏–±–∫–∏:
–ë—ç–∫–µ–Ω–¥ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å `cors()`, –Ω–æ —É–±–µ–¥–∏—Å—å —á—Ç–æ –æ–Ω –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω.

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–Ω–µ –∑–∞–ø—É—Å–∫–∞–π, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)
npm run build

# –õ–æ–∫–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –±—ç–∫–µ–Ω–¥–∞ (–Ω–µ –∑–∞–ø—É—Å–∫–∞–π, —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏)
npm run start:server
```

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí Cloudflare Pages (Angular)
                       ‚Üì API –∑–∞–ø—Ä–æ—Å
               Railway/Render (Express)
                       ‚Üì SMTP
                  Gmail/SMTP —Å–µ—Ä–≤–µ—Ä
```

---

**–ì–æ—Ç–æ–≤–æ! üéâ** –¢–≤–æ–π —Å–∞–π—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!
